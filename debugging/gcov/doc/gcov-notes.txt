gcov 
TODO - 



coverage testing in the kernel

Kernel: 2.4.35
package: gcov-kernel-2
patches: linux-2.4.25-gcov.patch
	 linux-2.4.21-gcov.patch

Installation / patch:
    1. one folder above the sources:
        $ cp linux-2.4.25-gcov.patch linux-2.4.25-gcov.patch.txt
    	$ emacs linux-2.4.25-gcov.patch.txt

    	-> replace linux-2.4.25 with the linux-`uname -r` version 
    	of the kernel, or better: the foldername of the sources 

	-> set the correct "EXTRAVERSION" and "CROSSCOMPILE" options for "Makefile"

    2. check out the following files:
	linux-2.4/Documentation/Configure.help	
	linux-2.4/Makefile
	linux-2.4/arch/i386/config.in
	linux-2.4/arch/i386/kernel/head.S
	linux-2.4/arch/ia64/config.in 
	linux-2.4/arch/ia64/kernel/head.S
	linux-2.4/arch/ppc/boot/chrp/main.c
	linux-2.4/arch/ppc/config.in
	linux-2.4/arch/ppc/kernel/entry.S
	linux-2.4/arch/ppc/kernel/head.S 
	linux-2.4/arch/ppc/kernel/prom_init.c
	linux-2.4/arch/ppc64/config.in 
	linux-2.4/arch/ppc64/kernel/head.S 
	linux-2.4/arch/s390/config.in
	linux-2.4/arch/s390/kernel/head.S
	linux-2.4/arch/s390x/config.in 
	linux-2.4/arch/s390x/kernel/head.S 
	linux-2.4/arch/x86_64/config.in
	linux-2.4/arch/x86_64/kernel/head.S
	linux-2.4/drivers/Makefile
	linux-2.4/include/linux/module.h
	linux-2.4/kernel/module.c

    3. mkdir and touch the following file(names):
	linux-2.4/drivers/gcov/Config.in
	linux-2.4/drivers/gcov/Makefile 
	linux-2.4/drivers/gcov/gcov-core.c 
	linux-2.4/drivers/gcov/gcov-proc.c 
	linux-2.4/include/linux/gcov.h 

    4. go into the sources:
        $ patch -p1 < ../linux-2.4.25-gcov.patch
	# make menuconfig	
	under Kernel Hacking do:
	GCOV coverage profiling --->
	  [*] GCOV Kernel
	  [*] Profile entire Kernel (New)
	  <*> Provide GCOV proc file system entry (New)
-> in our case this didn't compile (even with gcov-proc as M)!!!


Alternatively, uncheck the "make-menuconfig"-options and:
    Provide infrastructure for GCOV kernel coverage support.
    Enable GCOV_ALL to get coverage data for the entire kernel source.
    To get coverage data for only specific files or directories, add the following line to 
    the respective Makefile:
         EXTRA_CFLAGS += $(GCOV_FLAGS)
    Note that GCOV_PROC has to be enabled to access GCOV kernel coverage 
    data. 
